<!DOCTYPE html>
<html lang="ru">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Niche Job Websites</title>
        <meta content="" name="description">
        <meta content="" name="keywords">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="telephone=no" name="format-detection">
        <meta name="HandheldFriendly" content="true">
        <meta name="theme-color" content="#ffffff">
        <link href="static/css/main.min.css" rel="stylesheet" type="text/css">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
    </head>

    <body>
        <!-- ------------------------------ TEMPLATE DEFAULT -------------------------------->
        <div class="w-page w-page--theme-secondary">
            <div class="w-page__top">
                <!-- ---------------  Above header part page ----------------->
                <!-- ---------------  Top part page ----------------->
                <!-- begin header-->
                <header class="c-header">
                    <div class="w-centered">
                        <div class="c-header__top">
                            <div class="c-header__cell">
                                <!-- begin logo-->
                                <a class="c-logo" href="#">
                                    <img src="static/img/content/logo.svg" alt="Site logo" width="38" height="27">HGV Driver Jobs</a>
                                <!-- end logo-->
                            </div>
                            <div class="c-header__cell">
                                <button class="c-btn c-btn--sm c-btn--secondary" type="button">Post a job
                                </button>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- end header-->
                <!-- ---------------  Under header part page ----------------->
            </div>
            <div class="w-page__content">
                <!-- ---------------  Main part page ----------------->
                <main>
                    <!-- begin section-->
                    <section class="c-section c-section--xs c-section--highlight">
                        <div class="w-centered">
                            <div class="c-main-title">
                                <h1 class="c-h1">Join the Road: Search HGV Driver Jobs Near You</h1>
                                <div class="c-emoji">üöö
                                </div>
                            </div>
                            <!-- begin form-group-->
                            <div class="form-group w-gap-md-sm">
                                <label class="control-label" for="query">What job are you looking for?</label>
                                <div class="sc-container">
                                    <svg class="c-ico c-ico--lg c-ico--inherit sc-icon" viewBox="0 0 24 24">
                                        <!-- ico name: magnify-->
                                        <path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path>
                                    </svg>
                                    <input class="form-control" type="text" placeholder="Search..." id="query" />
                                </div>
                                <div class="help-block"></div>
                            </div>
                            <!-- end form-group-->
                            <!-- begin collapse-container-->
                            <div class="c-collapse-container js-collapse-container w-gap-md-sm">
                                <!-- begin tag-->
                                <a class="c-tag" href="#" tabindex="0">Class 1
                </a>
                                <!-- end tag-->
                                <!-- begin tag-->
                                <a class="c-tag" href="#" tabindex="0">Class 2
                </a>
                                <!-- end tag-->
                                <!-- begin tag-->
                                <a class="c-tag" href="#" tabindex="0">General Haulage
                </a>
                                <!-- end tag-->
                                <!-- begin tag-->
                                <a class="c-tag" href="#" tabindex="0">Bulk Tipper
                </a>
                                <!-- end tag-->
                                <!-- begin tag-->
                                <a class="c-tag" href="#" tabindex="0">Flatbed
                </a>
                                <!-- end tag-->
                                <button class="c-btn sc-toggle u-hidden js-collapse-toggle" type="button">
                                    <svg class="c-ico c-ico--md c-ico--inherit sc-ico-left" viewBox="0 0 24 24">
                                        <!-- ico name: plus-circle-->
                                        <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path>
                                    </svg><span>more...</span>
                                </button>
                            </div>
                            <!-- end collapse-container-->
                        </div>
                    </section>
                    <!-- end section-->
                    <!-- begin section-->
                    <section class="c-section c-section--gap-top-none">
                        <div class="w-centered">
                            <!-- begin job-result-->
                            <div class="c-job-result">
                                <h2 class="c-h6"><span id="jobsCount">762</span>
                  open positions
                </h2>
                            </div>
                            <!-- end job-result-->
                            <!-- JSON-->
                            <!-- begin job-container-->
                            <div class="c-job-container w-gap-md-xs" id="jobsContainer">
                            </div>
                            <!-- end job-container-->
                            <div class="w-gap-md-xs"><a class="c-btn c-btn--light c-btn--md-high" href="#">Load more</a>
                            </div>
                        </div>
                    </section>
                    <!-- end section-->
                    <!-- begin section-->
                    <section class="c-section">
                        <div class="w-centered">
                            <div class="row row--align-center row--row-gap-lg row--column-gap-xs w-gap-md">
                                <div class="col">
                                    <div class="c-emoji">üóÇÔ∏è
                                    </div>
                                </div>
                                <div class="col col-md-12">
                                    <h3 class="c-h2">Title</h3>
                                </div>
                            </div>
                            <div class="w-gap-md">
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed blandit nulla id magna molestie eleifend. Pellentesque eget risus ac dolor convallis aliquam. Fusce feugiat elit a sem fermentum gravida. Vestibulum eget est
                                    nibh. In commodo ante in sapien hendrerit, sed elementum lectus lacinia. Nullam non nibh posuere, rhoncus ipsum vel, iaculis diam.</p>
                            </div>
                        </div>
                    </section>
                    <!-- end section-->
                </main>
            </div>
            <div class="w-page__bottom">
                <!-- ---------------  Bottom part page ----------------->
                <!-- begin footer-->
                <footer class="c-footer">
                    <div class="w-centered">
                        <div class="c-footer__content">
                            <div class="c-footer__links"><a class="c-link" href="#">Post a job</a><a class="c-link" href="#">Contact</a><a class="c-link" href="#">Terms and conditions</a>
                            </div>
                            <div class="c-footer__copyright">¬© HGV Driver Jobs</div>
                        </div>
                    </div>
                </footer>
                <!-- end footer-->
            </div>
        </div>
        <!-- --------------- Outside part page ----------------->
        <!-- Including js files-->


        <script src="static/js/separate-js/vacancies.js"></script>
        <script src="static/js/separate-js/main.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                  collapseToggle.initialize();
              
                  console.log(vacancies)
              
                  var container = document.getElementById('jobsContainer'),
                      jobsCount = document.getElementById('jobsCount'),
                      searchInput = document.getElementById("query");
              
                  function displayVacancies(vacancies) {
                      var logoBackgroundOptions = ['#FFC466', '#0026C7', '#8F6B54', '#A557B3', '#FF6951', '#5ACF5A', '#C532C3', '#8D1385', '#FF9D00', '#8B00C7', '#E7A67B', '#53BCB5', '#BCEBFF', '#99F199', '#F4EF79', '#FFB7DC', '#C3E3E5', '#FFC466', '#FFAC90', '#FADDD2'];
                      var logoColorOptions = ['#ffffff', '#000000'];
              
                      function getRandomElement(arr) {
                          return arr[Math.floor(Math.random() * arr.length)];
                      }
              
                      function getLogo(company) {
                          var cachedLogo = localStorage.getItem(company);
                          if (cachedLogo) return cachedLogo;
              
                          var logoHTML;
                          var logoBackground = getRandomElement(logoBackgroundOptions);
                          var logoColor = getRandomElement(logoColorOptions);
                          var logoText = company.charAt(0).toUpperCase();
                          logoHTML = `<div class="sc-logo" style="background: ${logoBackground}; color: ${logoColor};">${logoText}</div>`;
              
                          localStorage.setItem(company, logoHTML);
              
                          return logoHTML;
                      }
              
                      function openInNewTab(url) {
                          window.open(url, '_blank').focus();
                      }
              
                      if (!Array.isArray(vacancies) || vacancies.length === 0) {
                          container.innerHTML = '<p class="no-jobs">No jobs available at the moment.</p>';
                          return;
                      }
              
                      jobsCount.innerHTML = vacancies.length;
              
                      container.innerHTML = vacancies.map(job => {
                          var logoHTML = getLogo(job.company),
                              description = job.descriptions?.length > 0
                                  ? job.descriptions.map(desc => `<p class="sc-description">${desc}</p>`).join('')
                                  : null;
                          return `
                              <article class="c-job-item">
                                  <div class="sc-content">
                                      ${logoHTML}
                                      <div class="sc-info">
                                          <div class="sc-head">
                                              <h3 class="sc-title"><a href="${job.url}" class="c-job-item-url" target="_blank">${job.title}</a></h3>
                                          </div>
                                          <div class="sc-details">
                                              ${job.company ? `<div class="sc-company">${job.company}</div>` : ''}
                                              ${job.salary ? `<div class="sc-salary">üí∞ ${job.salary}</div>` : ''}
                                              ${job.location ? `<div class="sc-location">üìç ${job.location}</div>` : ''}
                                              ${job.actuality ? `<div class="sc-date">üïù ${job.actuality}</div>` : ''}
                                          </div>
                                          ${description ? description : ''}
                                      </div>
                                      ${job.tags?.length > 0
                                              ? `<div class="sc-tags">${job.tags.map(tag => `<div class="c-tag c-tag--md-short">${tag.value}</div>`).join('')}</div>`
                                              : ''}
                                  </div>
                                  ${job.url ? `<div class="sc-action"><div class="c-btn c-btn--light">View</div></div>` : ''}
                              </article>
                          `;
                      }).join('');
              
                      document.querySelectorAll('.c-job-item').forEach(item => {
                          item.addEventListener('click', function (event) {
                              const url = this.querySelector('.c-job-item-url')?.href;
                              const clickedInteractive = event.target.closest('a:not(.c-job-item-url), button');
                              if (url && !clickedInteractive) {
                                  openInNewTab(url);
                              }
                          });
                      });
                  }
              
                  function filterJobs(searchValue) {
                      let searchFilteredJobs = new Set();
                      vacancies.forEach(job => {
                          if (job.title.toLowerCase().includes(searchValue)) {
                              searchFilteredJobs.add(job);
                          }
                      });
                      displayVacancies(Array.from(searchFilteredJobs));
                  }
              
                  searchInput.addEventListener('keyup', function (event) {
                      const searchValue = searchInput.value.toLowerCase();
                      filterJobs(searchValue);
                  });
              
                  displayVacancies(vacancies);
              });
        </script>
    </body>

</html>